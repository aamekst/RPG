BEGIN TRANSACTION;
GO

ALTER TABLE [Armas] ADD [PersonagemId] int NOT NULL DEFAULT 0;
GO

IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] ON;
INSERT INTO [Armas] ([Id], [Dano], [Nome], [PersonagemId])
VALUES (1, 35, N'Arco e Flecha', 1),
(2, 33, N'Espada', 2),
(3, 31, N'Machado', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] OFF;
GO

UPDATE [usuarios] SET [PasswordHash] = 0xC71CB7A5C924EE26B3E772F4F181FDB5452AF4EA52066FE49D2B815CF73549E55CE71D4575922E4B97936FD4649D81599B3F578FCE5B3E13A84A85AC03CABE32, [PasswordSalt] = 0xB6182EBB088DB2FB793A6A37261364AD75C5A056F602CD9A4732739E6B8FB7559C2003A46F4256F8A23D52B4B9034D663D30900339F3835CF3CE610678F40CF2962E0D131F8818694117F9EAE2186DB03174F7D40116AB4F3EC457FFC5FE6D8770FECBD2A8EC0AE7FEFDD8F134A79892E17D8F617380266DC4CB09C8C6873D18
WHERE [Id] = 1;
SELECT @@ROWCOUNT;

GO

CREATE INDEX [IX_Armas_PersonagemId] ON [Armas] ([PersonagemId]);
GO

ALTER TABLE [Armas] ADD CONSTRAINT [FK_Armas_personagens_PersonagemId] FOREIGN KEY ([PersonagemId]) REFERENCES [personagens] ([Id]) ON DELETE CASCADE;
GO

INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220408011507_MigracaoUmParaUm', N'5.0.15');
GO

COMMIT;
GO

